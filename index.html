<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Zoom Infini Test</title>
    <script src="https://openseadragon.github.io/openseadragon/openseadragon.min.js"></script>
    <style>
        html, body { margin:0; padding:0; height:100%; }
        #viewer { width: 100%; height: 100vh; background-color: black; }
    </style>
</head>
<body>
    <div id="viewer"></div>

    <script>
        // Coordonnées normalisées de la zone originale
        var detailCoords = {
            x: 0 / 5553,   // coin gauche de la sélection
            y: 0 / 4498,   // coin supérieur
            width: 329 / 5553,  // largeur de la sélection originale
            height: 203 / 4498  // hauteur de la sélection originale
        };

        // Créer le viewer OpenSeadragon
        var viewer = OpenSeadragon({
            id: "viewer",
            prefixUrl: "https://openseadragon.github.io/openseadragon/images/",
            tileSources: "sortie.dzi",  // image principale
            showNavigator: truemaxZoomPixelRatio: 20,
            minZoomLevel: 0.5,
            defaultZoomLevel: 1,
            visibilityRatio: 1,
            constrainDuringPan: false
        });

        // Ajouter la zone détaillée (niv2) exactement sur la sélection originale
        viewer.addTiledImage({
            tileSource: "niv2.dzi",       // image de détail haute résolution
            x: detailCoords.x,
            y: detailCoords.y,
            width: detailCoords.width,
            height: detailCoords.height,
            success: function() {
                console.log("Zone détaillée ajoutée !");
            }
        });

    </script>
</body>
</html>
